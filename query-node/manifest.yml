version: '0.1'
description: Joystream query-node manifest file for antioch
repository: https://github.com/Joystream/joystream
hydraVersion: '2'
dataSource:
  indexerVersion: '3.9'
  kind: substrate
  chain: joystream
entities:
  - mappings/lib/generated/**/*.model.js
# typegen:
metadata:
  source: ws://localhost:9944
events:
  - contentDirectory.EntityCreated
  - contentDirectory.EntityRemoved
  - contentDirectory.EntitySchemaSupportAdded
  - contentDirectory.EntityPropertyValuesUpdated
  - contentDirectory.TransactionCompleted
  - contentDirectory.TransactionFailed
outDir: ./mappings/generated/types
customTypes:
  lib: '@joystream/types/augment/all/types'
  typedefsLoc: '../types/augment/all/defs.json'
mappings:
  hydraCommonVersion: '2.0.1-beta.0'
  # js module that exports the handler functions
  mappingsModule: mappings/lib/mappings
  # additinal libraries the processor loads
  # typically it is a module with event and extrinsic types generated by hydra-typegen
  imports:
    - mappings/lib/mappings/generated/types
  eventHandlers:
    - event: contentDirectory.EntityCreated
      handler: contentDirectory_EntityCreated(DatabaseManager, SubstrateEvent)
    - event: contentDirectory.EntityRemoved
      handler: contentDirectory_EntityRemoved(DatabaseManager, SubstrateEvent)
    - event: contentDirectory.EntitySchemaSupportAdded
      handler: contentDirectory_EntitySchemaSupportAdded(DatabaseManager, SubstrateEvent)
    - event: contentDirectory.EntityPropertyValuesUpdated
      handler: contentDirectory_EntityPropertyValuesUpdated(DatabaseManager, SubstrateEvent)
    - event: contentDirectory.TransactionCompleted
      handler: contentDirectory_TransactionCompleted(DatabaseManager, SubstrateEvent)
    - event: contentDirectory.TransactionFailed
      handler: contentDirectory_TransactionFailed(DatabaseManager, SubstrateEvent)
